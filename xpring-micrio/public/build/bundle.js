var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function c(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n){t.appendChild(n)}function r(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function d(){return a(" ")}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){t.value=null==n?"":n}function h(t,n,e){t.classList[e?"add":"remove"](n)}let $;function g(t){$=t}const v=[],y=[],b=[],x=[],k=Promise.resolve();let w=!1;function _(t){b.push(t)}let P=!1;const E=new Set;function C(){if(!P){P=!0;do{for(let t=0;t<v.length;t+=1){const n=v[t];g(n),I(n.$$)}for(g(null),v.length=0;y.length;)y.pop()();for(let t=0;t<b.length;t+=1){const n=b[t];E.has(n)||(E.add(n),n())}b.length=0}while(v.length);for(;x.length;)x.pop()();w=!1,P=!1,E.clear()}}function I(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(_)}}const N=new Set;let A;function O(t,n){t&&t.i&&(N.delete(t),t.i(n))}function T(t,n,e,o){if(t&&t.o){if(N.has(t))return;N.add(t),A.c.push((()=>{N.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function j(t){t&&t.c()}function L(t,e,i){const{fragment:s,on_mount:r,on_destroy:l,after_update:u}=t.$$;s&&s.m(e,i),_((()=>{const e=r.map(n).filter(c);l?l.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(_)}function S(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function B(t,n){-1===t.$$.dirty[0]&&(v.push(t),w||(w=!0,k.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function M(n,c,i,s,r,u,a=[-1]){const d=$;g(n);const f=c.props||{},p=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:r,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:e(),dirty:a,skip_bound:!1};let m=!1;if(p.ctx=i?i(n,f,((t,e,...o)=>{const c=o.length?o[0]:e;return p.ctx&&r(p.ctx[t],p.ctx[t]=c)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](c),m&&B(n,t)),e})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();c.intro&&O(n.$$.fragment),L(n,c.target,c.anchor),C()}g(d)}class R{$destroy(){S(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function q(n){let e,c,i,d,m,h;return{c(){e=u("div"),c=u("button"),i=a("\n    Like this content?\n    "),d=u("strong"),d.textContent="Support the creator!",p(c,"class","delete"),p(d,"class","svelte-u5vwpt"),p(e,"class","notification is-success svelte-u5vwpt")},m(t,o){r(t,e,o),s(e,c),s(e,i),s(e,d),m||(h=[f(c,"click",n[7]),f(d,"click",n[5])],m=!0)},p:t,d(t){t&&l(e),m=!1,o(h)}}}function D(n){let e,o,c,i,d;return{c(){e=u("div"),o=u("button"),c=a("\n    Awesome! Thank you for donating."),p(o,"class","delete"),p(e,"class","notification is-success svelte-u5vwpt")},m(t,l){r(t,e,l),s(e,o),s(e,c),i||(d=f(o,"click",n[8]),i=!0)},p:t,d(t){t&&l(e),i=!1,d()}}}function J(n){let e,c,i,a,$,g,v,y,b,x,k,w,_,P,E,C,I,N,A,O,T,j,L,S=n[2]&&!n[1]&&q(n),B=n[1]&&D(n);return{c(){S&&S.c(),e=d(),B&&B.c(),c=d(),i=u("aside"),a=u("div"),$=u("span"),g=d(),v=u("div"),y=u("div"),b=u("label"),b.textContent="Ripple account",x=d(),k=u("div"),w=u("input"),_=d(),P=u("div"),E=u("label"),E.textContent="Ripple account token",C=d(),I=u("div"),N=u("input"),A=d(),O=u("div"),T=u("button"),T.textContent="Donate",p($,"class","handle svelte-u5vwpt"),p(b,"class","label"),p(b,"for","account-name"),p(w,"class","input"),p(w,"type","text"),p(w,"id","account-name"),p(k,"class","control"),p(y,"class","field"),p(E,"class","label"),p(E,"for","auth-token"),p(N,"class","input"),p(N,"type","text"),p(N,"id","auth-token"),p(I,"class","control"),p(P,"class","field"),p(T,"class","button is-primary"),p(O,"class","field has-addons"),p(v,"class","form-fields svelte-u5vwpt"),p(a,"class","form svelte-u5vwpt"),h(a,"open",n[0]),p(i,"class","svelte-u5vwpt")},m(t,o){S&&S.m(t,o),r(t,e,o),B&&B.m(t,o),r(t,c,o),r(t,i,o),s(i,a),s(a,$),s(a,g),s(a,v),s(v,y),s(y,b),s(y,x),s(y,k),s(k,w),m(w,n[3]),s(v,_),s(v,P),s(P,E),s(P,C),s(P,I),s(I,N),m(N,n[4]),s(v,A),s(v,O),s(O,T),j||(L=[f($,"click",n[9]),f(w,"input",n[10]),f(N,"input",n[11]),f(T,"click",n[5])],j=!0)},p(t,[n]){t[2]&&!t[1]?S?S.p(t,n):(S=q(t),S.c(),S.m(e.parentNode,e)):S&&(S.d(1),S=null),t[1]?B?B.p(t,n):(B=D(t),B.c(),B.m(c.parentNode,c)):B&&(B.d(1),B=null),8&n&&w.value!==t[3]&&m(w,t[3]),16&n&&N.value!==t[4]&&m(N,t[4]),1&n&&h(a,"open",t[0])},i:t,o:t,d(t){S&&S.d(t),t&&l(e),B&&B.d(t),t&&l(c),t&&l(i),j=!1,o(L)}}}const z="http://localhost:5100";function F(t,n,e){let{paymentPointer:o}=n,c=!1,i=!1,s=!0,r="",l="";return t.$$set=t=>{"paymentPointer"in t&&e(6,o=t.paymentPointer)},[c,i,s,r,l,async function(){console.log(r,l,o),l&&r?await async function(){fetch(`${z}/pay`,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":z},mode:"cors",credentials:"include",body:JSON.stringify({amount:1,accountName:r,authToken:l,paymentPointer:o})}).then((t=>t.json())).then((t=>{!0===t.successfulPayment?e(1,i=!0):console.log("Payment failed.")}))}():e(0,c=!0)},o,()=>e(2,s=!1),()=>e(2,s=!1),()=>e(0,c=!c),function(){r=this.value,e(3,r)},function(){l=this.value,e(4,l)}]}class G extends R{constructor(t){super(),M(this,t,F,J,i,{paymentPointer:6})}}function H(t){let n,e;return n=new G({props:{paymentPointer:t[0]}}),{c(){j(n.$$.fragment)},m(t,o){L(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.paymentPointer=t[0]),n.$set(o)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){T(n.$$.fragment,t),e=!1},d(t){S(n,t)}}}function K(t){let n,e,c,i,s=t[1]&&H(t);return{c(){n=u("div"),e=d(),s&&s.c(),c=a(""),p(n,"id","micrio"),p(n,"class","svelte-9gfw8t")},m(t,o){r(t,n,o),r(t,e,o),s&&s.m(t,o),r(t,c,o),i=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&O(s,1)):(s=H(t),s.c(),O(s,1),s.m(c.parentNode,c)):s&&(A={r:0,c:[],p:A},T(s,1,1,(()=>{s=null})),A.r||o(A.c),A=A.p)},i(t){i||(O(s),i=!0)},o(t){T(s),i=!1},d(t){t&&l(n),t&&l(e),s&&s.d(t),t&&l(c)}}}function Q(t,n,e){let o,c,{micrioId:i=""}=n;return new Micrio({id:i,container:document.getElementById("micrio"),hookEvents:!0,autoInit:!0,minimap:!1,initType:"cover"}).addEventListener("load",(t=>{e(0,o=t.detail.custom.wallet_address),e(1,c=!!o)})),t.$$set=t=>{"micrioId"in t&&e(2,i=t.micrioId)},e(0,o=null),e(1,c=!1),[o,c,i]}class U extends R{constructor(t){super(),M(this,t,Q,K,i,{micrioId:2})}}function V(n){let e,o,c;return o=new U({props:{micrioId:"bndeI"}}),{c(){e=u("main"),j(o.$$.fragment)},m(t,n){r(t,e,n),L(o,e,null),c=!0},p:t,i(t){c||(O(o.$$.fragment,t),c=!0)},o(t){T(o.$$.fragment,t),c=!1},d(t){t&&l(e),S(o)}}}return new class extends R{constructor(t){super(),M(this,t,null,V,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
